(this["webpackJsonpdiamonds-no-1"]=this["webpackJsonpdiamonds-no-1"]||[]).push([[0],{17:function(e,i,t){},30:function(e,i,t){"use strict";t.r(i);var n=t(1),a=t.n(n),o=t(9),s=t.n(o),d=(t(17),t(2));window.p5=d;t(19);var r=t(10),c=t(11),h=t(12),u=function(){function e(i,t,n,a,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;Object(c.a)(this,e),this.p=i,this.x=t,this.y=n,this.colour=this.isObject(a)?a:this.p.color(a,100,100),this.hue=this.colour._getHue(),this.size=d>1?0:o/16,this.maxSize=d>1?o/2:o/2*.7,this.opacity=s,this.speed=d}return Object(h.a)(e,[{key:"isObject",value:function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}},{key:"update",value:function(){this.size<this.maxSize&&(this.size=this.size+this.speed)}},{key:"draw",value:function(){var e=this.size/4*3,i=this.size,t=this.hue,n=100,a=100,o=this.speed>1?1:20;this.p.stroke(this.hue,0,100,this.opacity),this.p.fill(t,n,a,this.opacity);for(var s=0;s<o;s++)this.p.quad(this.x,this.y-i,this.x+e/2,this.y,this.x,this.y+i,this.x-e/2,this.y),e-=e/10,i-=i/10,t=t-15<0?t+345:t-15,n-=10,a-=10,this.p.stroke(t,n,a,this.opacity),this.p.noFill()}}]),e}();var g=t(0);function l(){return Object(g.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(g.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(g.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var p=t.p+"static/media/diamonds-no-1.45abdd6d.ogg",m=t.p+"static/media/diamonds-no-1.789049a6.mid",v=function(){var e=Object(n.useRef)(),i=function(e){e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.loadMidi=function(){r.Midi.fromUrl(m).then((function(i){console.log(i);var t=i.tracks[2].notes,n=i.tracks[6].notes;e.scheduleCueSet(t,"executeCueSet1"),e.scheduleCueSet(n,"executeCueSet2"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=function(){e.song=e.loadSound(p,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(i,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=-1,o=1,s=0;s<i.length;s++){var d=i[s],r=d.ticks,c=d.time;(r!==a||n)&&(d.currentCue=o,e.song.addCue(c,e[t],d),a=r,o++)}},e.gridCoords=[],e.baseHue=0,e.diamonds=[],e.bigDiamonds=[],e.setup=function(){e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.colorMode(e.HSB),e.baseHue=e.random(0,360),e.colourSet=function(e,i){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=[],o=0;o<4;){i=(i+=90*o)<360?i:i-360;var s=e.color(i,t,n,1);a.push(s),o++}return a}(e,e.baseHue),e.background(0);for(var i=0;i<11;i++)i>0&&(e.gridCoords.push({x:e.width/11*i,y:e.height/4*1}),e.gridCoords.push({x:e.width/11*i,y:e.height/4*3})),e.gridCoords.push({x:e.width/11*i+e.width/22,y:e.height/2})},e.draw=function(){if(e.audioLoaded&&e.song.isPlaying()){e.background(0);for(var i=0;i<e.bigDiamonds.length;i++){var t=e.bigDiamonds[i];t.update(),t.draw()}for(var n=0;n<e.diamonds.length;n++){var a=e.diamonds[n];a.update(),a.draw()}}},e.executeCueSet1=function(i){var t=i.currentCue,n=e.gridCoords[(t-1)%31],a=n.x,o=n.y;e.diamonds[(t-1)%31]=new u(e,a,o,e.random(0,360),e.height/2)},e.baseBigDiamondSize=0,e.executeCueSet2=function(i){var t=i.currentCue;e.baseBigDiamondSize||(e.baseBigDiamondSize=8*e.width/3),e.bigDiamonds.push(new u(e,e.width/2,e.height/2,e.random(0,360),e.baseBigDiamondSize,.02*t,8)),t>10&&(e.bigDiamonds.push(new u(e,e.width/4*1,e.height/2,e.random(0,360),e.baseBigDiamondSize,.25,8)),e.bigDiamonds.push(new u(e,e.width/4*3,e.height/2,e.random(0,360),e.baseBigDiamondSize,.25,8))),t>5&&(e.baseBigDiamondSize=.95*e.baseBigDiamondSize)},e.hasStarted=!1,e.mousePressed=function(){e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.reset(),window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"replaying"}})),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play(),"undefined"===typeof window.dataLayer||e.hasStarted||(window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"start playing"}}),e.hasStarted=!1)))},e.creditsLogged=!1,e.logCredits=function(){!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),e.song.stop())},e.reset=function(){},e.updateCanvasDimensions=function(){e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(n.useEffect)((function(){new d(i,e.current)}),[]),Object(g.jsx)("div",{ref:e,children:Object(g.jsx)(l,{})})};var f=function(){return Object(g.jsx)(v,{})};s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(f,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.f8b6a953.chunk.js.map